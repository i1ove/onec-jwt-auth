Функция СгенерироватьPAT(Знач ПользовательВвод, Знач ДействуетДоЛок, Знач Описание) Экспорт
	Порты = КомпозицияPAT.СобратьПорты();
	
	// 1) Нормализуем пользователя через порт
	ИдентификаторПользователя = Порты.Пользователи.UUIDПоСсылке(ПользовательВвод);
	
	// 2) Нормализуем дату (включая проверку, что это Дата) через порт времени
	ДействуетДоUTC = Порты.Время.ЛокальнаяДатаСеансаВUTC(ДействуетДоЛок);
	
	// 3) Текущее время в UTC — тоже через порт времени
	ТекущееВремяUTC = Порты.Время.ТекущееВремяUTC();
	
	Возврат СценарийГенерацияPAT.ВыполнитьСценарий(ИдентификаторПользователя, ДействуетДоUTC, ТекущееВремяUTC, Описание, Порты);
	
КонецФункции